# C언어 복습

## *const* 키워드

| const int num = 10; | num이라는 변수를 상수화 |
| --- | --- |
| const int* ptr1 = &val1; | ptr1을 이용해서 val1 변수의 값을 변경할 수 X |
| int* const ptr2 = &val2; | ptr2가 가리키는 변수를 변경할 수 X |
| const int* const ptr3 = &val3; | ptr3이 가리키는 변수와 그 변수의 값을 변경할 수 X |

## 프로그램의 메모리 공간

### DATA

전역변수가 저장되는 영역

### STACK

지역변수 및 매개변수가 저장되는 영역

### HEAP

malloc 함수 호출에 의해 프로그램이 실행되는 과정에서 동적으로 할당이 이루어지는 영역

### malloc & free

malloc 함수 호출에 의해 할당된 메모리 공간은 free 함수 호출을 통해서 소멸하지 않으면 해제되지 않는다. 

# C언어 기반의 C++

## 새로운 자료형 bool

```
#define TRUE 1
#define FALSE 0
```

true와 false는 각각 1과 0을 의미하지만, 이들은 단지 참과 거짓을 표현하기 위한 1바이트 크기의 데이터에 불과한다. 이 둘을 출력하거나 정수의 형태로 형 변환하는 경우에는 각각 1과 0으로 변환되도록 정의되어 있다. 하지만, 굳이 이를 숫자에 연결시켜서 이해하지 않는 것이 더 좋다. 그 자체로 ‘참’과 ‘거짓’을 나타내는 목적으로 정의된 데이터로 인식하는 것이 바람직하다. 

## 참조자(Reference)

변수란? 할당된 메모리 공간에 붙여진 이름 → 변수를 통해 해당 메모리 공간에 접근이 가능하다. 

### ‘&’ 연산자의 의미

- 주소 값의 반환
    
    ```cpp
    int *ptr = &num1;    // 메모리 공간에 할당되어 있는 변수 num1의 주소 값을 반환해서 포인터 ptr에 저장한다.
    ```
    
- 참조자의 선언
    
    ```cpp
    int &num2 = num1;    // 변수 num1에 대한 참조자 num2를 선언한다. -> 새로 선언되는 변수(num2)의 이름 앞에 & 사용 시 
    ```
    

⇒ num1이라는 이름이 붙은 메모리 공간에 대해 ptr은 주소값을 가지고 있고, num2라는 이름을 하나 더 붙여준 것으로 해석할 수 있다. 

> **참조자 : 자신이 참조하는 변수를 대신할 수 있는 또 하나의 이름**
> 

### 참조자의 특징

- 참조자는 변수에 별칭(별명)을 하나 붙여주는 것이다.
- 참조자의 수에는 제한이 없으며, 참조자를 대상으로도 참조자를 선언할 수 있다.
    
    ```cpp
    int num1 = 1000;
    int &num2 = num1;
    int &num3 = num2;
    int &num4 = num3;
    int &num5 = num1;
    ```
    
- 참조자는 무조건 선언과 동시에 변수를 참조하도록 해야 한다.
    
    ```cpp
    int &ref = 20;   (x)
    int &ref;        (x)
    int &ref = NULL; (x)
    ```
    
- 참조자에 const 선언이 붙으면, 이는 참조자를 이용한 값의 변경을 허용하지 않겠다는 의미를 내포한다.

## new & delete

→ 힙의 메모리 할당과 소멸에 관한 키워드

**malloc&free를 이용한 동적할당의 특징**

- 할당할 대상의 정보를 무조건 바이트 크기 단위로 전달해야 한다.
- 반환형이 void 형 포인터이기 때문에 적절한 형 변환을 거쳐야 한다.

➡️ 이를 훨씬 간단하고 쉽게 처리해주는 키워드가 바로 new&delete !!

변수와 배열 할당에는 물론, 객체의 생성에서 new와 delete를 사용한다.
